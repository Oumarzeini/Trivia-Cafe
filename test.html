<script>
    const allQuestions = [
        {
            id : 1,
            inquiry: "What is The capital of France?",
            options: ["London", "Madrid", "Paris"],
            answer: "Paris"
        },
        {
            id: 2,
            inquiry: "What is the largest planet?",
            options: ["Earth", "Mars", "Jupiter"],
            answer: "Jupiter"
        },
        {
            id: 3,
            inquiry: "Who painted the Mona Lisa?",
            options: ["Van Gogh", "Da Vinci", "Picasso"],
            answer: "Da Vinci"
        },
        {
            id: 4,
            inquiry: "Who is the football GOAT?",
            options: ["Messi", "Messi", "Messi"],
            answer: "Messi"
        }
    ];

    const shuffle = (array) => {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    };

    const currentRoundQuestions = shuffle([...allQuestions]).slice(0, 3);
    let currentQuestionsIndex = 0;

    const displayNextQuestion = (question) => {
        if (currentQuestionsIndex < currentRoundQuestions.length) {
            const questionText = document.getElementById("questionText");
            const questionsContainer = document.getElementById("questionsContainer");
            const feedback = document.getElementById("feedback");

            questionText.textContent = question.inquiry;
            questionsContainer.innerHTML = "";
            feedback.textContent = "";

            question.options.forEach(option => {
                const button = document.createElement("button");
                button.textContent = option;
                button.classList.add("options");
                button.onclick = () => {
                    if (option === question.answer) {
                        feedback.textContent = "Correct ✅, Excellent job!";
                        button.style.backgroundColor = "lightgreen";
                    } else {
                        feedback.textContent = "Incorrect ❌, Try Again";
                        button.style.backgroundColor = "salmon";
                    }

                    document.querySelectorAll(".options").forEach(btn => btn.disabled = true);
                };
                questionsContainer.appendChild(button);
            });

            currentQuestionsIndex++;
        } else {
            console.log("Questions over");
        }
    };

    document.addEventListener("DOMContentLoaded", () => {
        displayNextQuestion(currentRoundQuestions[currentQuestionsIndex]);
    });
</script>
